---
title: vim正则操作
date: 2019-07-13 11:18:28
categories: 编程
tags: vim
---

# vim 快捷记录  

1. 行首添加#、tab等字符    
`:%s/^/#/ `  
`:%s/^/TAB/`           每一行的行首添加一个TAB字符  
`:2,50 s/^/\/\//g` 在2~50行首添加//号注释 
`:2,50 s/^\/\///g`  在2~50行首删除//号  

1. 删除空行    
`:g/^$/d`  

1. 删除空行以及只有空格的行    
`:g/^\s*$/d`  

<!-- more -->

1. 删除以 # 开头或 空格# 或 tab#开头的行    
`:g/^\s*#/d`  
`:g/^\s*;/d`   对于 php.ini 配置文件，注释为 ; 开头  

1. 使用正则表达式删除行    
如果当前行包含 bbs ，则删除当前行  
`:/bbs/d`  

1. 删除从第二行到包含 bbs 的区间行    
`:2,/bbs/d`  

1. 删除从包含 bbs 的行到最后一行区间的行    
`:/bbs/,$d`  

1. 删除所有包含 bbs 的行    
`:g/bbs/d`  

1. 删除匹配 bbs 且前面只有一个字符的行    
`:g/.bbs/d`  

1. 删除匹配 bbs 且以它开头的行    
`:g/^bbs/d`  

1. 删除匹配 bbs 且以它结尾的行    
`:g/bbs$/d`  

1. .ini 的注释是以 ; 开始的，如果注释不在行开头，那么删除 ; 及以后的字符    
`:%s/\;.\+//g`  

1. 删除 # 之后所有字符    
`:%s/\#.*//g`  

1. **在匹配行后添加文字**

   > :g/pattern 表示正则匹配，然后 s 表示替换，$ 表示替换对象  

`:g/pattern/s/$/mytext`